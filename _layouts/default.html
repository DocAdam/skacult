<!-- _layouts/default.html -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{% if page.title %}{{ page.title }} · {% endif %}{{ site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}" />
    <link rel="stylesheet" href="/style.css?v={{ site.time | date: '%s' }}" />
  </head>

  <body>
    {% include nav.html %}

<div class="container layout">
  <!-- Mobile menu button (only visible on small screens via CSS) -->
  <div class="mobile-sidebar-bar">
    <button class="mobile-sidebar-button"
            type="button"
            data-sidebar-open
            aria-controls="sidebar-drawer"
            aria-expanded="false">
      Menu
    </button>
  </div>

  <!-- Desktop sidebar (hidden on mobile via CSS) -->
  <aside class="sidebar sidebar-desktop" aria-label="Sidebar">
    {% include sidebar.html %}
  </aside>

  <main class="content" id="main-content">
    {{ content }}
  </main>
</div>

<!-- Mobile sidebar drawer -->
<div class="sidebar-overlay" data-sidebar-overlay hidden></div>

<aside class="drawer drawer-left" id="sidebar-drawer" aria-hidden="true" aria-label="Site menu">
  <div class="drawer-header">
    <h2 class="drawer-title">Menu</h2>
    <button type="button" class="drawer-close" data-sidebar-close aria-label="Close menu">✕</button>
  </div>

  <div class="drawer-body">
    {% include sidebar.html %}
  </div>
</aside>

    {% include about-drawer.html %}
    {% include footer.html %}

    <script src="/assets/drawer.js?v={{ site.time | date: '%s' }}"></script>
    <script src="/assets/toc.js?v={{ site.time | date: '%s' }}"></script>
    <script src="/assets/sidebar-drawer.js?v={{ site.time | date: '%s' }}"></script>
  </body>
</html>